{% extends "layout.html" %}

{% block title %}
    Sell
{% endblock %}

{% block main %}
    <form action="/sell" method="post">
        <div class="form-group">
            <label for="symbol">Symbol:</label>
            <select id="symbol" class="form-control" name="symbol" required autofocus>
                <option disabled selected>Select Symbol</option>
                {% for stock in owned_stocks %}
                    <option value="{{ stock.symbol }}">{{ stock.symbol }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="shares">Shares:</label>
            <input id="shares" autocomplete="off" class="form-control" name="shares" type="number" min="1" required>
        </div>
        <button id="sellButton" class="btn btn-primary" type="submit" disabled>Sell</button>
    </form>

    <script>
        // Enable button only when a valid symbol is selected
        document.getElementById('symbol').addEventListener('change', function() {
            document.getElementById('sellButton').disabled = this.value === "Select Symbol";
        });
    </script>
{% endblock %}